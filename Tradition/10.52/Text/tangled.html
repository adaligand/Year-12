<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tangled Translation</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      min-height: 100vh;
      background: #f9f9f9;
      display: flex;
      flex-direction: column;
    }
    h1.title {
      text-align: center;
      font-size: 2rem;
      padding: 1rem 0;
      color: #333;
    }
    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      width: 100%;
      align-items: stretch;
      padding: 2rem;
      gap: 1rem;
      flex-grow: 1;
      box-sizing: border-box;
    }
    .input-box, .center-text {
      background: white;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      padding: 1rem;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-width: 0;
    }
    .center-text {
      text-align: center;
      font-size: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    textarea {
      flex: 1;
      resize: none;
      font-size: 1rem;
      padding: 1rem;
      border: 2px solid #ccc;
      border-radius: 8px;
      min-height: 150px;
    }
    .feedback {
      text-align: center;
      font-weight: bold;
      padding: 0.5rem;
    }
    button {
      padding: 10px 20px;
      background-color: #f9f9f9;
      border: 2px solid #ccc;
      color: #000000;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      margin-top: 0.75rem;
    }
    button:hover {
      background-color: #A9A9A9;
      transform: translateY(-4px);
    }
    .highlight {
      background-color: #ffe4b3;
      border-radius: 4px;
      padding: 0 4px;
    }
    .result-box {
      margin-top: 0.5rem;
      font-size: 0.95rem;
      white-space: pre-wrap;
    }
    /* Make buttons container flex with spacing */
    .button-container {
      display: flex;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <h1 class="title">Tangled Translation</h1>

  <div class="container">
    <!-- French Input -->
    <div class="input-box">
      <h3>Traduction française</h3>
      <textarea id="frenchInput"></textarea>
      <div class="feedback" id="frenchFeedback"></div>
      <div class="result-box" id="frenchResult"></div>
      <button onclick="checkFrench()">Check French</button>
    </div>

    <!-- Hybrid Sentence -->
    <div class="center-text">
Local traditions jouent un rôle essentiel in contemporary society, permettant de tisser of deep bonds entre les générations. They also raise awareness à la préservation of cultural heritage, transmettant a genuine and valuable artisanal from generation to generation. L'authenticité of traditional festivals attire un grand nombre of visitors, promouvant ainsi the locality à travers ses manifestations artistiques and sporting events. Les produits artisanaux are not only representative de l'identité of a community, mais ils incarnent également the history et les valeurs traditionnelles. For example, le collier de fleurs, a renowned emblem de la Polynésie française, symbolizes la richesse culturelle and the beauty de cette région of the world. Les légendes locales, existing since time immemorial, enrichissent le tissu culturel by transmitting stories qui reflètent l'âme of a people. En conclusion, it is imperative d'éviter les stéréotypes réducteurs when exploring et célèbre foreign cultures, en reconnaissant plutôt artistic traditions comme un vecteur précieux of universal intangible heritage.
    </div>

    <!-- English Input -->
    <div class="input-box">
      <h3>English Translation</h3>
      <textarea id="englishInput"></textarea>
      <div class="feedback" id="englishFeedback"></div>
      <div class="result-box" id="englishResult"></div>
      <button onclick="checkEnglish()">Check English</button>
    </div>
  </div>

  <script>
    const correctFrench = "Les traditions locales jouent un rôle essentiel dans la société contemporaine, permettant de tisser des liens profonds entre les générations. Elles sensibilisent également à la préservation du patrimoine culturel, transmettant un savoir-faire artisanal véritable et précieux de génération en génération. L'authenticité des festivals traditionnels attire un grand nombre de visiteurs, promouvant ainsi la localité à travers ses manifestations artistiques et sportives. Les produits artisanaux sont non seulement représentatifs de l'identité d'une communauté, mais ils incarnent également l'histoire et les valeurs traditionnelles. Par exemple, le collier de fleurs, emblème réputé de la Polynésie française, symbolise la richesse culturelle et la beauté de cette région du monde. Les légendes locales, existant depuis la nuit des temps, enrichissent le tissu culturel en transmettant des récits qui reflètent l'âme d'un peuple. En conclusion, il est impératif d'éviter les stéréotypes réducteurs lorsqu'on explore et célèbre les cultures étrangères, en reconnaissant plutôt les traditions artistiques comme un vecteur précieux du patrimoine immatériel universel.";
    const correctEnglish = "Local traditions play an essential role in contemporary society, allowing the weaving of deep bonds between generations. They also raise awareness about the preservation of cultural heritage, passing down a genuine and valuable artisanal know-how from generation to generation. The authenticity of traditional festivals attracts a large number of visitors, thereby promoting the locality through its artistic and sporting events. Handcrafted products are not only representative of the identity of a community, but they also embody the history and traditional values. For example, the flower necklace, a renowned emblem of French Polynesia, symbolizes the cultural richness and the beauty of this region of the world. Local legends, existing since time immemorial, enrich the cultural fabric by transmitting stories that reflect the soul of a people. In conclusion, it is imperative to avoid reductive stereotypes when exploring and celebrating foreign cultures, instead recognizing artistic traditions as a precious carrier of universal intangible heritage.";

    function highlightMistakes(userText, correctText) {
      const userWords = userText.split(/\s+/);
      const correctWords = correctText.split(/\s+/);
      let mistakeCount = 0;
      const highlighted = userWords.map((word, i) => {
        if (correctWords[i] && word.toLowerCase() === correctWords[i].toLowerCase()) {
          return word;
        } else {
          mistakeCount++;
          return `<span class="highlight">${word}</span>`;
        }
      }).join(' ');
      return { highlighted, mistakeCount };
    }

    function checkFrench() {
  const userFrench = document.getElementById('frenchInput').value.trim();
  const frenchFeedback = document.getElementById('frenchFeedback');
  const frenchResult = document.getElementById('frenchResult');

  if (userFrench.toLowerCase() === correctFrench.toLowerCase()) {
    frenchFeedback.textContent = '✅ Correct';
    frenchFeedback.style.color = 'green';
    frenchResult.innerHTML = '';
  } else {
    const { highlighted, mistakeCount } = highlightMistakes(userFrench, correctFrench);
    if (mistakeCount === 0) {
      frenchFeedback.textContent = '✅ Correct';
      frenchFeedback.style.color = 'green';
      frenchResult.innerHTML = highlighted;
    } else {
      frenchFeedback.textContent = `❌ ${mistakeCount} mistake(s)`;
      frenchFeedback.style.color = 'red';
      frenchResult.innerHTML = highlighted;
    }
  }
}

function checkEnglish() {
  const userEnglish = document.getElementById('englishInput').value.trim();
  const englishFeedback = document.getElementById('englishFeedback');
  const englishResult = document.getElementById('englishResult');

  if (userEnglish.toLowerCase() === correctEnglish.toLowerCase()) {
    englishFeedback.textContent = '✅ Correct';
    englishFeedback.style.color = 'green';
    englishResult.innerHTML = '';
  } else {
    const { highlighted, mistakeCount } = highlightMistakes(userEnglish, correctEnglish);
    if (mistakeCount === 0) {
      englishFeedback.textContent = '✅ Correct';
      englishFeedback.style.color = 'green';
      englishResult.innerHTML = highlighted;
    } else {
      englishFeedback.textContent = `❌ ${mistakeCount} mistake(s)`;
      englishFeedback.style.color = 'red';
      englishResult.innerHTML = highlighted;
    }
  }
}

  </script>
</body>
</html>

